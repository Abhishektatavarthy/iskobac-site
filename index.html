<!DOCTYPE html>
<html>
<head>
  <h1 style="text-align: center; margin-top: 20px; font-family: Arial, sans-serif; color: #00FFCC;">
    ISKOBAC MATCH STATS TRACKER
  </h1>

  <title>ISKOBAC match,stats tracker</title>
  <meta charset="UTF-8">
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    button { margin: 5px; padding: 5px 10px; }
    input { padding: 5px; margin: 5px; }
    .team-section, .clock-section, .foul-section, .export-section {
      margin: 20px 0;
      border: 1px solid #ccc;
      padding: 15px;
    }
  </style>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Match Tracker</title>
    <link rel="stylesheet" href="style.css">
  </head>

</head>
<body>
  <style>
    body {
      background-color: #121212;
      color: #e0e0e0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      margin: 20px;
    }

    h1, h2, h3, h4 {
      color: #00ffc8;
    }

    input, select, textarea {
      background-color: #1e1e1e;
      color: #ffffff;
      border: 1px solid #333;
      padding: 8px;
      border-radius: 5px;
      margin: 5px 0;
    }

    button {
      background-color: #1f1f1f;
      color: #00ffc8;
      border: 1px solid #333;
      padding: 8px 14px;
      border-radius: 5px;
      cursor: pointer;
      transition: background 0.3s;
    }

    button:hover {
      background-color: #333;
    }

    .team-container, .timer-section, .player-entry, .export-section {
      background-color: #1a1a1a;
      border: 1px solid #333;
      border-radius: 10px;
      padding: 15px;
      margin-bottom: 20px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      background-color: #1f1f1f;
      color: #ffffff;
    }

    th, td {
      border: 1px solid #333;
      padding: 10px;
      text-align: center;
    }

    th {
      background-color: #292929;
      color: #00ffc8;
    }

    tr:hover {
      background-color: #2a2a2a;
    }

    .score-display {
      font-size: 32px;
      font-weight: bold;
      color: #00ffc8;
      text-align: center;
      margin-bottom: 20px;
    }

    .notification {
      color: #ff6666;
      font-weight: bold;
      margin-top: 10px;
    }

    .section-title {
      font-size: 20px;
      color: #00ffc8;
      margin-bottom: 10px;
    }

  </style>


  <!-- Step 0: Team Name Entry & Score Control -->
  <div>
    <input type="text" id="teamAInput" placeholder="Enter Team A Name">
    <input type="text" id="teamBInput" placeholder="Enter Team B Name">
    <button onclick="setTeamNames()">Start Match</button>
  </div>

  <div id="scoreboard" style="display:none;">
    <div style="display:flex; justify-content:space-around;">
      <div>
        <h2 id="teamAName">Team A</h2>
        <p id="teamAScore">0</p>
        <button onclick="updateScore('A', 1)">+1</button>
        <button onclick="updateScore('A', 2)">+2</button>
        <button onclick="updateScore('A', 3)">+3</button>
      </div>

      <div style="align-self: center;">
        <h2 id="vsScore">0 || 0</h2>
      </div>

      <div>
        <h2 id="teamBName">Team B</h2>
        <p id="teamBScore">0</p>
        <button onclick="updateScore('B', 1)">+1</button>
        <button onclick="updateScore('B', 2)">+2</button>
        <button onclick="updateScore('B', 3)">+3</button>
      </div>
    </div>
    <div style="text-align:center;">
      <button onclick="undoLastScore()">Undo Last Score</button>
    </div>
  </div>

  <!DOCTYPE html>
  <html>
  <head>
    <title>Quarter Timer</title>
    <style>
      #quarter-timer {
        font-size: 32px;
        font-weight: bold;
        margin: 10px 0;
      }

      .timer-buttons button {
        margin: 5px;
        padding: 8px 14px;
        font-size: 14px;
      }
    </style>
  </head>
  <body>

    <!-- Quarter Timer UI -->
    <div style="margin-bottom: 20px;">
      <h3>Quarter Timer</h3>
      <div id="quarter-timer">10:00</div>
      <div class="timer-buttons">
        <button onclick="startQuarterTimer()">Start</button>
        <button onclick="pauseQuarterTimer()">Pause</button>
        <button onclick="resumeQuarterTimer()">Resume</button>
        <button onclick="resetQuarterTimer()">Reset</button>
      </div>
    </div>

    <!-- JavaScript -->
    <script>
      let quarterDuration = 10 * 60; // 10 minutes in seconds
      let currentQuarterTime = quarterDuration;
      let quarterTimerInterval = null;
      let isQuarterPaused = false;

      function updateQuarterDisplay() {
        const minutes = Math.floor(currentQuarterTime / 60).toString().padStart(2, '0');
        const seconds = (currentQuarterTime % 60).toString().padStart(2, '0');
        document.getElementById('quarter-timer').innerText = `${minutes}:${seconds}`;
      }

      function startQuarterTimer() {
        clearInterval(quarterTimerInterval);
        currentQuarterTime = quarterDuration;
        updateQuarterDisplay();
        isQuarterPaused = false;
        quarterTimerInterval = setInterval(() => {
          if (!isQuarterPaused && currentQuarterTime > 0) {
            currentQuarterTime--;
            updateQuarterDisplay();
            if (currentQuarterTime === 0) {
              clearInterval(quarterTimerInterval);
              alert("Quarter Over!");
            }
          }
        }, 1000);
      }

      function pauseQuarterTimer() {
        isQuarterPaused = true;
      }

      function resumeQuarterTimer() {
        isQuarterPaused = false;
      }

      function resetQuarterTimer() {
        clearInterval(quarterTimerInterval);
        currentQuarterTime = quarterDuration;
        updateQuarterDisplay();
        isQuarterPaused = false;
      }

      // Initialize timer display on page load
      window.onload = updateQuarterDisplay;
    </script>

  </body>
  </html>


  
  <!-- Step 1: Match Timer Controls -->
  <div class="clock-section">
    <h3>üïí Match Timers</h3>
    Match Time: <input id="matchTime" type="number" value="40"> mins
    <button onclick="startMatchClock()">Start</button>
    <button onclick="pauseMatchClock()">Pause</button>
    <button onclick="resetMatchClock()">Restart</button>
    <p id="matchTimerDisplay">40:00</p>

    Halftime Break: <input id="halftime" type="number" value="3"> mins
    <button onclick="startHalftime()">Start</button>
    <button onclick="pauseHalftime()">Pause</button>
    <button onclick="resetHalftime()">Restart</button>
    <p id="halftimeDisplay">03:00</p>

    Quarter Time: <input id="quarterTime" type="number" value="1.5"> mins
    <button onclick="startQuarterBreak()">Start</button>
    <button onclick="pauseQuarterBreak()">Pause</button>
    <button onclick="resetQuarterBreak()">Restart</button>
    <p id="quarterDisplay">01:30</p>
  </div>

  <!-- Step 2: Fouls and Timeouts -->
  <div class="foul-section">
    <h3>üö´ Team Fouls & ‚è±Ô∏è Timeouts</h3>

    <div>
      <h4>Team A Fouls: <span id="teamAFouls">0</span></h4>
      <button onclick="changeFoul('A', 1)">+</button>
      <button onclick="changeFoul('A', -1)">-</button>
    </div>

    <div>
      <h4>Team B Fouls: <span id="teamBFouls">0</span></h4>
      <button onclick="changeFoul('B', 1)">+</button>
      <button onclick="changeFoul('B', -1)">-</button>
    </div>

    <div>
      <h4>Timeouts</h4>
      <button onclick="startTimeout('A')">Timeout Team A</button>
      <button onclick="startTimeout('B')">Timeout Team B</button>
      <p id="timeoutDisplay">No active timeout</p>
    </div>
  </div>

  <!-- Player Stats -->
  <div style="margin-top: 30px;">
    <h2>Team A</h2>
    <input type="text" id="playerAInput" placeholder="Enter player/substitute name" />
    <button onclick="addPlayer('A')">Add Player</button>
    <table id="teamATable" border="1">
      <tr>
        <th>Player</th>
        <th>Attempts</th>
        <th>Rebounds</th>
        <th>Steals</th>
        <th>Assists</th>
        <th>Turnovers</th>
        <th>3 Pts</th>
        <th style="color: red;">Fouls</th>
      </tr>
    </table>

    <h2>Team B</h2>
    <input type="text" id="playerBInput" placeholder="Enter players/substitute name" />
    <button onclick="addPlayer('B')">Add Player</button>
    <table id="teamBTable" border="1">
      <tr>
        <th>Player</th>
        <th>Attempts</th>
        <th>Rebounds</th>
        <th>Steals</th>
        <th>Assists</th>
        <th>Turnovers</th>
        <th>3 Pts</th>
        <th style="color: red;">Fouls</th>
      </tr>
    </table>
  </div>

  <script>
    function addPlayer(team) {
      const inputId = team === 'A' ? 'playerAInput' : 'playerBInput';
      const tableId = team === 'A' ? 'teamATable' : 'teamBTable';
      const playerName = document.getElementById(inputId).value.trim();
      if (playerName === '') return;

      const table = document.getElementById(tableId);
      const row = table.insertRow(-1);
      const stats = ['Attempts', 'Rebounds', 'Steals', 'Assists', 'Turnovers', '3 Pts', 'Fouls'];

      // Add player name
      const nameCell = row.insertCell(0);
      nameCell.textContent = playerName;

      // Add zero-initialized clickable stat cells
      for (let i = 0; i < stats.length; i++) {
        const cell = row.insertCell(i + 1);
        cell.textContent = '0';
        cell.style.cursor = 'pointer';
        cell.onclick = () => {
          let val = parseInt(cell.textContent);
          cell.textContent = val + 1;
        };
      }

      document.getElementById(inputId).value = ''; // Clear input box
    }
  </script>
   <!-- Step 4: Export -->
  <!-- Export Section -->
  <div class="export-section">
    <h3>üì§ Export Stats</h3>
    <button onclick="exportTeamStats('A', 'teamA_stats.txt')">Export Team A Stats (txt)</button>
    <button onclick="exportTeamStats('B', 'teamB_stats.txt')">Export Team B Stats (txt)</button>
  </div>

  <script>
    let teamAScore = 0, teamBScore = 0;
    let lastScoreAction = null;
    let teamAFouls = 0, teamBFouls = 0;
    let matchClock, halftimeClock, quarterClock, timeoutClock;
    let currentQuarter = 1;
    let timeoutsUsed = { A: 0, B: 0 };

    // ‚úÖ Fallback stats object if not already defined elsewhere
    const stats = {
      A: {
        score: teamAScore,
        attempts: 0,
        rebounds: 0,
        steals: 0,
        assists: 0,
        turnovers: 0,
        threePts: 0,
        fouls: teamAFouls
      },
      B: {
        score: teamBScore,
        attempts: 0,
        rebounds: 0,
        steals: 0,
        assists: 0,
        turnovers: 0,
        threePts: 0,
        fouls: teamBFouls
      }
    };

    function setTeamNames() {
      const teamA = document.getElementById('teamAInput').value || 'Team A';
      const teamB = document.getElementById('teamBInput').value || 'Team B';
      document.getElementById('teamAName').innerText = teamA;
      document.getElementById('teamBName').innerText = teamB;
      document.getElementById('scoreboard').style.display = 'block';
      updateVsScore();
    }

    function updateScore(team, points) {
      if (team === 'A') {
        teamAScore += points;
        document.getElementById('teamAScore').innerText = teamAScore;
      } else {
        teamBScore += points;
        document.getElementById('teamBScore').innerText = teamBScore;
      }
      lastScoreAction = { team, points };
      updateVsScore();
    }

    function undoLastScore() {
      if (lastScoreAction) {
        const { team, points } = lastScoreAction;
        if (team === 'A') {
          teamAScore = Math.max(0, teamAScore - points);
          document.getElementById('teamAScore').innerText = teamAScore;
        } else {
          teamBScore = Math.max(0, teamBScore - points);
          document.getElementById('teamBScore').innerText = teamBScore;
        }
        lastScoreAction = null;
        updateVsScore();
      }
    }

    function updateVsScore() {
      document.getElementById('vsScore').innerText = `${teamAScore} || ${teamBScore}`;
    }

    function changeFoul(team, delta) {
      if (team === 'A') {
        teamAFouls = Math.max(0, teamAFouls + delta);
        document.getElementById('teamAFouls').innerText = teamAFouls;
        if (teamAFouls >= 5) alert("Team A has 5 fouls: 2 Free Throws");
      } else {
        teamBFouls = Math.max(0, teamBFouls + delta);
        document.getElementById('teamBFouls').innerText = teamBFouls;
        if (teamBFouls >= 5) alert("Team B has 5 fouls: 2 Free Throws");
      }
    }

    function resetFoulsAndTimeouts() {
      teamAFouls = teamBFouls = 0;
      timeoutsUsed = { A: 0, B: 0 };
      document.getElementById('teamAFouls').innerText = '0';
      document.getElementById('teamBFouls').innerText = '0';
    }

    function startTimeout(team) {
      if (timeoutsUsed[team] >= 2) {
        alert(`Team ${team} has no timeouts left this quarter`);
        return;
      }
      timeoutsUsed[team]++;
      pauseMatchClock();

      let seconds = 30;
      document.getElementById('timeoutDisplay').innerText = `Timeout Team ${team}: 30s`;
      timeoutClock = setInterval(() => {
        seconds--;
        document.getElementById('timeoutDisplay').innerText = `Timeout Team ${team}: ${seconds}s`;
        if (seconds === 0) {
          clearInterval(timeoutClock);
          document.getElementById('timeoutDisplay').innerText = "Timeout Finished";
        }
      }, 1000);
    }

    function startMatchClock() {
      const mins = parseInt(document.getElementById('matchTime').value);
      let time = mins * 60;
      clearInterval(matchClock);
      matchClock = setInterval(() => {
        time--;
        const m = Math.floor(time / 60).toString().padStart(2, '0');
        const s = (time % 60).toString().padStart(2, '0');
        document.getElementById('matchTimerDisplay').innerText = `${m}:${s}`;
        if (time <= 0) clearInterval(matchClock);
      }, 1000);
    }

    function pauseMatchClock() {
      clearInterval(matchClock);
    }

    function resetMatchClock() {
      pauseMatchClock();
      const mins = parseInt(document.getElementById('matchTime').value);
      document.getElementById('matchTimerDisplay').innerText = `${mins.toString().padStart(2, '0')}:00`;
    }

    function startHalftime() {
      let time = parseFloat(document.getElementById('halftime').value) * 60;
      clearInterval(halftimeClock);
      halftimeClock = setInterval(() => {
        time--;
        const m = Math.floor(time / 60).toString().padStart(2, '0');
        const s = (time % 60).toString().padStart(2, '0');
        document.getElementById('halftimeDisplay').innerText = `${m}:${s}`;
        if (time <= 0) clearInterval(halftimeClock);
      }, 1000);
    }

    function pauseHalftime() { clearInterval(halftimeClock); }
    function resetHalftime() {
      pauseHalftime();
      const mins = parseFloat(document.getElementById('halftime').value);
      document.getElementById('halftimeDisplay').innerText = `${mins.toString().padStart(2, '0')}:00`;
    }

    function startQuarterBreak() {
      let time = parseFloat(document.getElementById('quarterTime').value) * 60;
      clearInterval(quarterClock);
      quarterClock = setInterval(() => {
        time--;
        const m = Math.floor(time / 60).toString().padStart(2, '0');
        const s = (time % 60).toString().padStart(2, '0');
        document.getElementById('quarterDisplay').innerText = `${m}:${s}`;
        if (time <= 0) clearInterval(quarterClock);
      }, 1000);
    }

    function pauseQuarterBreak() { clearInterval(quarterClock); }
    function resetQuarterBreak() {
      pauseQuarterBreak();
      document.getElementById('quarterDisplay').innerText = "01:30";
    }

    function exportTeamStats(team, filename) {
      alert(`Exporting stats for Team ${team}`); // ‚úÖ Debug alert
      let exportContent = `=== Export for Team ${team} ===\n`;
      console.log(`Exporting stats for Team ${team}`); // ‚úÖ Debug log

      const teamStats = stats[team] || {
        attempts: 0,
        rebounds: 0,
        steals: 0,
        assists: 0,
        turnovers: 0,
        threePts: 0,
        fouls: 0
      };

       

      const tableId = team === 'A' ? 'teamATable' : 'teamBTable';
      const table = document.getElementById(tableId);

      if (table) {
        exportContent += `\n=== Player Stats Table ===\n`;

        const headers = [];
        for (let h = 0; h < table.rows[0].cells.length; h++) {
          headers.push(table.rows[0].cells[h].textContent.trim());
        }
        exportContent += headers.join('\t') + '\n';

        for (let i = 1; i < table.rows.length; i++) {
          const rowData = [];
          for (let j = 0; j < table.rows[i].cells.length; j++) {
            rowData.push(table.rows[i].cells[j].textContent.trim());
          }
          exportContent += rowData.join('\t') + '\n';
        }
      } else {
        exportContent += `\n(No table found with ID ${tableId})\n`;
      }

      const blob = new Blob([exportContent], { type: "text/plain;charset=utf-8" });
      const link = document.createElement("a");
      link.href = URL.createObjectURL(blob);
      link.download = filename;
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
    }
  </script>

  <!-- üèÄ Fun Basketball Animation - Top Right -->
  <div class="basketball-animation-top-right">üèÄ</div>

  <style>
    .basketball-animation-top-right {
      position: fixed;
      top: 20px;
      right: 20px;
      font-size: 3.2rem; /* Slightly larger ball */
      animation: bounce-top-right 1.1s infinite;
      z-index: 1000;
      text-shadow: 0 0 6px orange, 0 0 12px darkorange;
      cursor: pointer;
      user-select: none;
    }

    @keyframes bounce-top-right {
      0%, 100% {
        transform: translateY(0);
      }
      50% {
        transform: translateY(15px);
      }
    }

    .basketball-animation-top-right:hover {
      animation: bounce-top-right 0.5s infinite;
      text-shadow: 0 0 10px gold, 0 0 18px red;
    }
  </style>

  
</body>
</html>
